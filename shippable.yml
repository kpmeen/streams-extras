language: scala
scala:
  - 2.11.8
  - 2.12.1

jdk:
  - openjdk8

build:
  pre_ci_boot:
    image_name: kpmeen/docker-scala-sbt
    image_tag: latest
    pull: true
    options: "-e HOME=/root"

  ci:
    - mkdir /root/.bintray
    - touch /root/.bintray/.credentials
    - sbt clean coverage test coverageReport

  post_ci:
    - mkdir -p shippable/codecoverage
    - mv target/scala-2.11/coverage-report/cobertura.xml $PWD/shippable/codecoverage/